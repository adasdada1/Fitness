gsap.registerPlugin(ScrollTrigger,ScrollToPlugin);const burger=document.querySelector(".burger"),headerList=document.querySelector(".navigation-list"),modal=document.querySelector(".modalWindow"),modalForm=document.querySelector(".modalWindow-form"),modalClose=document.querySelector(".modalWindow__close"),sections=document.querySelectorAll("section"),modalWindowContent=document.querySelector(".modalWindow__content");let wasApplSent=!1;function setDarkSections(){sections.forEach((e=>{e.classList.add("darkMode")}))}function removeDarkSections(){sections.forEach((e=>{e.classList.remove("darkMode")}))}document.addEventListener("click",(function(e){headerList.contains(e.target)||burger.contains(e.target)||modal.classList.contains("modalWindow-active")||(headerList.classList.remove("left"),burger.classList.remove("active"),removeDarkSections()),e.target!==modal&&e.target!==modalClose||(modal.classList.remove("modalWindow-active"),removeDarkSections()),wasApplSent&&setTimeout((()=>{modalWindowContent.innerHTML='<h2>Sign up<br />for training</h2>\n            <form action="#" id="form" class="modalWindow-form">\n              <div class="modalWindow__close"></div>\n              <div class="modalWindow__item modalWindow__select">\n                <select id="program" name="program">\n                  <option value="personalized">Personalized training</option>\n                  <option value="group">Group classes</option>\n                  <option value="online">Online training</option>\n                </select>\n                <svg\n                  xmlns="http://www.w3.org/2000/svg"\n                  version="1.0"\n                  width="512.000000pt"\n                  height="512.000000pt"\n                  viewBox="0 0 512.000000 512.000000"\n                  preserveAspectRatio="xMidYMid meet"\n                >\n                  <g\n                    transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)"\n                    fill="#000000"\n                    stroke="none"\n                  >\n                    <path\n                      d="M2315 5109 c-800 -83 -1501 -518 -1927 -1196 -604 -961 -490 -2237 274 -3068 425 -462 951 -737 1583 -827 119 -17 512 -16 635 1 622 86 1148 360 1572 820 349 378 572 861 650 1406 17 118 17 512 0 630 -59 416 -191 769 -410 1099 -92 140 -185 254 -315 385 -399 404 -893 653 -1462 737 -123 18 -478 26 -600 13z m-80 -1468 c52 -32 1119 -971 1139 -1002 24 -39 24 -119 0 -158 -20 -31 -1087 -970 -1139 -1002 -41 -25 -120 -25 -162 1 -82 50 -102 170 -40 239 12 13 230 205 485 428 254 223 462 409 462 413 0 4 -210 192 -467 417 -258 226 -475 419 -485 429 -40 47 -42 131 -3 191 40 61 147 83 210 44z"\n                    />\n                  </g>\n                </svg>\n              </div>\n\n              <div class="modalWindow__item">\n                <input\n                  type="text"\n                  name="name"\n                  class="modalWindow__input"\n                  id="formName"\n                  placeholder="YOUR NAME"\n                  required\n                />\n              </div>\n\n              <div class="modalWindow__item">\n                <input\n                  type="tel"\n                  name="phone"\n                  class="modalWindow__input"\n                  id="formPhone"\n                  placeholder="Your phone number"\n                  required\n                />\n              </div>\n\n              <div class="button__wrapper">\n                <button class="button mainButton">Sign up</button>\n              </div>\n            </form>',addMainButtonListener(),wasApplSent=!1}),600)})),burger.addEventListener("click",(function(){burger.classList.toggle("active"),headerList.classList.toggle("left"),modal.classList.contains("modalWindow-active")||sections.forEach((e=>{e.classList.toggle("darkMode")}))}));const buttons=document.querySelectorAll(".button");function validatePhoneNumber(e){return/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(e)}buttons.forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation(),modal.classList.add("modalWindow-active"),setDarkSections()}))}));const mainButton=document.querySelector(".mainButton"),phone=modalForm.phone,loader=document.querySelector(".loader");function success(){modalWindowContent.style.display="none",loader.style.display="block",setTimeout((()=>{loader.style.display="none",modalWindowContent.classList.remove("none"),modalWindowContent.innerHTML="<p>Application successfully sent</p>",modalWindowContent.style.display="block",wasApplSent=!0}),1500),modalWindowContent.removeEventListener("transitionend",success)}function addMainButtonListener(){const e=document.querySelector(".mainButton"),t=modalForm.phone;e&&e.addEventListener("click",(e=>{if(e.preventDefault(),!validatePhoneNumber(t.value))return t.style.outline="3px #c91d1d solid";t.style.outline="",modalWindowContent.classList.add("none"),modalWindowContent.addEventListener("transitionend",success)}))}mainButton.addEventListener("click",(e=>{if(e.preventDefault(),!validatePhoneNumber(phone.value))return phone.style.outline="3px #c91d1d solid";phone.style.outline="",modalWindowContent.classList.add("none"),modalWindowContent.addEventListener("transitionend",success)}));const boxes=document.querySelectorAll(".parallax");let mouseX=0,mouseY=0,boxX=0,boxY=0;const speed=.05,maxOffset=50;function animate(){boxX+=(.05*mouseX-boxX)*speed,boxY+=(.05*mouseY-boxY)*speed,boxX=Math.max(-maxOffset,Math.min(boxX,maxOffset)),boxY=Math.max(-maxOffset,Math.min(boxY,maxOffset)),boxes.forEach((e=>{e.style.transform=`translate3d(${-boxX/e.dataset.depth}px, ${-boxY/e.dataset.depth}px,0)`})),requestAnimationFrame(animate)}window.addEventListener("mousemove",(e=>{const t=window.innerWidth/2,o=window.innerHeight/2;mouseX=e.clientX-t,mouseY=e.clientY-o})),window.addEventListener("resize",(()=>{ScrollTrigger.refresh()}));const nav=document.querySelectorAll(".navigation-list__item");function gsapAnimate(e,t,o,n,a){gsap.to(e,{opacity:1,y:0,x:0,duration:t,delay:o,stagger:n,ease:"power1.out",onComplete:a})}function signsAnimation(){gsap.to(".sign",{opacity:1,y:0,x:0,duration:1,delay:.1,stagger:.2,ease:"power1.out",onComplete:animate})}nav.forEach((e=>{e.addEventListener("click",(()=>{headerList.classList.remove("left"),burger.classList.remove("active"),removeDarkSections(),gsap.to(window,{duration:.7,scrollTo:`.${e.dataset.section}`})}))})),gsapAnimate(".first__man",1,.2,null,signsAnimation);const titles=gsap.utils.toArray(".title");titles.forEach((e=>{gsap.to(e,{duration:1,opacity:1,y:0,scrollTrigger:{trigger:e.parentNode,start:"top 50%",toggleActions:"play none none none"}})}));const aboutItem=gsap.utils.toArray(".about__item");aboutItem.forEach((e=>{gsap.to(e,{duration:1,opacity:1,delay:.1,y:0,x:0,rotate:0,scrollTrigger:{trigger:e,start:"top 30%",toggleActions:"play none none none"}})}));const achievementsItem=gsap.utils.toArray(".achievements-list_item");achievementsItem.forEach((e=>{gsap.to(e,{duration:.6,opacity:1,y:0,x:0,scale:1,scrollTrigger:{trigger:e,start:"top 60%",toggleActions:"play none none none"}})})),gsap.to(".dumbbell",{opacity:1,delay:.1,rotate:1,ease:"power3.out",scrollTrigger:{start:"top 60%",scrub:3,trigger:".title-achievements"}});let comments=gsap.utils.toArray(".reviews-list__item");gsap.to(comments,{xPercent:-100*comments.length,ease:"none",opacity:1,scrollTrigger:{trigger:".reviews",pin:!0,scrub:2,start:"top 30%",end:()=>"+="+2*document.querySelector(".reviews-list").offsetWidth}}),gsap.to(".reviews-list",{opacity:1,duration:1,scrollTrigger:{trigger:".reviews-list",start:"top 50%"}});let programs=gsap.utils.toArray(".programs__item");programs.forEach((e=>{gsap.to(e,{opacity:1,scale:1,x:0,stagger:.15,duration:1,delay:.1,ease:"power3.out",scrollTrigger:{start:"top 69%",trigger:e,toggleActions:"play none none none"}})})),gsap.to(".programs",{duration:1,opacity:1,y:0,scrollTrigger:{trigger:".programs",start:"top 50%",toggleActions:"play none none none"}}),gsap.to(".footer",{duration:1,opacity:1,y:0,scrollTrigger:{trigger:".footer",start:"top 90%",toggleActions:"play none none none"}});